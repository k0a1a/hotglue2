$(document).ready(function(){var a=$('<img src="'+$.glue.base_url+'modules/iframe/iframe.png" alt="btn" title="embed another webpage" width="32" height="32">');$(a).bind("click",function(c){var b=prompt("Enter the URL to show");if(!b){return}b="//"+b.split("//")[1];$.glue.backend({method:"glue.create_object",page:$.glue.page},function(e){var d=$('<div class="iframe resizable object" style="position: absolute;"></div>');$(d).attr("id",e.name);var f=$('<iframe style="background-color: transparent; border-width: 0px; height: 100%; position: absolute; width: 100%;"></iframe>');$(f).attr("name",e.name);$(f).attr("src",b);$(d).append(f);f=$('<div class="glue-iframe-shield glue-ui" style="height: 100%; position: absolute; width: 100%;" title="visitors will be able to interact with the webpage below"></div>');$(d).append(f);$("body").append(d);$(d).css("width",$(d).width()+"px");$(d).css("height",$(d).height()+"px");$(d).css("left",(c.pageX-$(d).outerWidth()/2)+"px");$(d).css("top",(c.pageY-$(d).outerHeight()/2)+"px");$.glue.object.register(d);$.glue.object.save(d)});$.glue.menu.hide()});$.glue.menu.register("new",a,12);a=$('<img src="'+$.glue.base_url+'modules/iframe/iframe-url.png" alt="btn" title="change webpage url" width="32" height="32">');$(a).bind("click",function(d){var c=$(this).data("owner");var f=$(c).children("iframe").first();var b=prompt("Enter the URL to show",window.location.protocol+$(f).attr("src"));if(!b){return}b="//"+b.split("//")[1];$(f).attr("src",b);$.glue.object.save(c)});$.glue.contextmenu.register("iframe","iframe-url",a);a=$('<div style="height: 32px; width: 32px;" title="toggle scrollbars on and off">');$(a).bind("click",function(c){var b=$(this).data("owner");var d=$(b).children("iframe").first();if($(d).css("overflow")=="hidden"){$(d).css("overflow","auto");$(d).attr("scrolling","auto");$(d).removeAttr("seamless");if($.browser.webkit){$(d).attr("src",$(d).attr("src"))}$(this).addClass("glue-menu-enabled");$(this).removeClass("glue-menu-disabled")}else{$(d).css("overflow","hidden");$(d).attr("scrolling","no");$(d).attr("seamless","seamless");if($.browser.webkit){$(d).attr("src",$(d).attr("src"))}$(this).removeClass("glue-menu-enabled");$(this).addClass("glue-menu-disabled")}$.glue.object.save(b)});$(a).bind("glue-menu-activate",function(c){var b=$(this).data("owner");var d=$(b).children("iframe").first();if($(d).css("overflow")=="hidden"){$(this).removeClass("glue-menu-enabled");$(this).addClass("glue-menu-disabled")}else{$(this).addClass("glue-menu-enabled");$(this).removeClass("glue-menu-disabled")}});$.glue.contextmenu.register("iframe","iframe-scroll",a);$.glue.object.register_alter_pre_save("iframe",function(b,c){$(b).children("iframe").html("");$(b).children(".glue-iframe-shield").remove()})});