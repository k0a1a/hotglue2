$(".object").live("glue-object-lock",function(a){if($(this).hasClass("locked")){$(this).draggable("disable");$(this).resizable("disable");if($(this).hasClass("text")){$(this).children("textarea").css("resize","none")}}});$(document).ready(function(){$(".object").trigger("glue-object-lock");var a;$.glue.contextmenu.hide();a=$('<img src="'+$.glue.base_url+'modules/lock/lock.png" alt="btn" title="lock object" width="32" height="32">');$(a).bind("glue-menu-activate",function(d){var c=$(this).data("owner");var b;if($(c).hasClass("locked")){b="object is locked, click to unlock it"}else{b="lock object"}$(this).attr("title",b)});$(a).bind("click",function(d){var b=this;var c=$(this).data("owner");if($(c).hasClass("locked")){$(c).removeClass("locked");$(c).draggable("enable");$(c).resizable("enable");$.glue.contextmenu.hide();$.glue.contextmenu.show(c)}else{$(c).addClass("locked");$(c).draggable("disable");$(c).resizable("disable");if($(c).hasClass("text")){$(c).children("textarea").css("resize","none")}$.glue.contextmenu.hide();$.glue.contextmenu.show(c)}$(b).trigger("glue-menu-activate");$.glue.object.save(c)});$.glue.contextmenu.register("object","object-lock",a,19)});